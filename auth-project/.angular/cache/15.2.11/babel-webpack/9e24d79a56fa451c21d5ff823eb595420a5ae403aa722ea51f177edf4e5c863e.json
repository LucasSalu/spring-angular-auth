{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/vacancies/vacancies.service\";\nimport * as i2 from \"@angular/common\";\nfunction VacancyTableComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function VacancyTableComponent_tr_13_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const vacancy_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.setModal(vacancy_r1.status, vacancy_r1.title, vacancy_r1.description, vacancy_r1.id));\n    });\n    i0.ɵɵtext(9, \" apply \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function VacancyTableComponent_tr_13_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const vacancy_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteVacancy(vacancy_r1.id));\n    });\n    i0.ɵɵtext(11, \" delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const vacancy_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vacancy_r1.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vacancy_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vacancy_r1.description);\n  }\n}\nexport class VacancyTableComponent {\n  constructor(vacanciesService) {\n    this.vacanciesService = vacanciesService;\n    this.list = [];\n    this.isAdmin = false;\n    this.status = '';\n    this.title = '';\n    this.description = '';\n    this.id = '';\n  }\n  ngOnInit() {\n    this.isAdmin = 'admin' == localStorage.getItem('role');\n    this.loadVacancies();\n  }\n  loadVacancies() {\n    this.vacanciesService.getVacancies().subscribe({\n      next: data => {\n        this.list = data;\n      },\n      error: err => {\n        console.error('Erro ao carregar vagas:', err);\n      }\n    });\n  }\n  setModal(status, title, description, id) {\n    this.status = status;\n    this.title = title;\n    this.description = description;\n  }\n  deleteVacancy(vacancyId) {\n    this.vacanciesService.deleteVacancy(vacancyId).subscribe({\n      next: data => {\n        console.log('Vaga deletada com sucesso');\n        this.loadVacancies(); // Atualiza a lista após a exclusão\n      },\n\n      error: error => {\n        console.error('Erro ao deletar vaga:', error);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function VacancyTableComponent_Factory(t) {\n      return new (t || VacancyTableComponent)(i0.ɵɵdirectiveInject(i1.VacanciesService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VacancyTableComponent,\n      selectors: [[\"app-vacancy-table\"]],\n      decls: 29,\n      vars: 3,\n      consts: [[1, \"card-body\", \"p-4\", \"p-sm-5\"], [1, \"table\", \"table-sm\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", 1, \"btn\", \"btn-primary\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", 1, \"btn\", \"btn-primary\", 2, \"background-color\", \"red\", \"border-color\", \"red\", \"margin-left\", \"5px\", 3, \"click\"]],\n      template: function VacancyTableComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"thead\")(3, \"tr\")(4, \"th\", 2);\n          i0.ɵɵtext(5, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"th\", 2);\n          i0.ɵɵtext(7, \"Titulo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"th\", 2);\n          i0.ɵɵtext(9, \"Descri\\u00E7\\u00E3o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"th\", 2);\n          i0.ɵɵtext(11, \"A\\u00E7\\u00E3o\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(12, \"tbody\");\n          i0.ɵɵtemplate(13, VacancyTableComponent_tr_13_Template, 12, 3, \"tr\", 3);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(14, \"button\", 4);\n          i0.ɵɵtext(15, \" apply\\n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 5)(17, \"div\", 6)(18, \"div\", 7)(19, \"div\", 8)(20, \"h5\", 9);\n          i0.ɵɵtext(21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 10);\n          i0.ɵɵtext(23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 11)(25, \"button\", 12);\n          i0.ɵɵtext(26, \"Close\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"button\", 13);\n          i0.ɵɵtext(28, \"Aplicar para vaga\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.list);\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\"Aplicar para vaga \", ctx.title, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.description, \" \");\n        }\n      },\n      dependencies: [i2.NgForOf],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IAWMA,0BAAiC;IAC3BA,YAAoB;IAAAA,iBAAK;IAC7BA,0BAAI;IAAAA,YAAmB;IAAAA,iBAAK;IAC5BA,0BAAI;IAAAA,YAAyB;IAAAA,iBAAK;IAClCA,0BAAI;IACgEA;MAAA;MAAA;MAAA;MAAA,OAASA,0GAAsE;IAAA,EAAC;IAChJA,uBACF;IAAAA,iBAAS;IACXA,mCAAqM;IAAhEA;MAAA;MAAA;MAAA;MAAA,OAASA,kDAAyB;IAAA,EAAC;IACpKA,yBACF;IAAAA,iBAAS;;;;IATPA,eAAoB;IAApBA,uCAAoB;IACpBA,eAAmB;IAAnBA,sCAAmB;IACnBA,eAAyB;IAAzBA,4CAAyB;;;ACNrC,OAAM,MAAOC,qBAAqB;EAUhCC,YAAoBC,gBAAiC;IAAjC,qBAAgB,GAAhBA,gBAAgB;IARpC,SAAI,GAAU,EAAE;IAChB,YAAO,GAAW,KAAK;IAEvB,WAAM,GAAU,EAAE;IAClB,UAAK,GAAU,EAAE;IACjB,gBAAW,GAAU,EAAE;IACvB,OAAE,GAAU,EAAE;EAId;EAEAC,QAAQ;IACN,IAAI,CAACC,OAAO,GAAG,OAAO,IAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACtD,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACL,gBAAgB,CAACM,YAAY,EAAE,CAACC,SAAS,CAAC;MAC7CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,IAAI,GAAGD,IAAI;MAClB,CAAC;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,yBAAyB,EAAEC,GAAG,CAAC;MAC/C;KACD,CAAC;EACJ;EAEAE,QAAQ,CAACC,MAAU,EAAEC,KAAS,EAAEC,WAAe,EAAEC,EAAM;IACrD,IAAI,CAACH,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,WAAW,GAAGA,WAAW;EAChC;EAEAE,aAAa,CAACC,SAAiB;IAC7B,IAAI,CAACpB,gBAAgB,CAACmB,aAAa,CAACC,SAAS,CAAC,CAACb,SAAS,CAAC;MACvDC,IAAI,EAAGC,IAAI,IAAI;QACbI,OAAO,CAACQ,GAAG,CAAC,2BAA2B,CAAC;QACxC,IAAI,CAAChB,aAAa,EAAE,CAAC,CAAE;MACzB,CAAC;;MACDM,KAAK,EAAGA,KAAK,IAAI;QACfE,OAAO,CAACF,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;KACD,CAAC;EACJ;;;uBA9CWb,qBAAqB;IAAA;EAAA;;;YAArBA,qBAAqB;MAAAwB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDRlC7B,8BAAkC;UAIVA,sBAAM;UAAAA,iBAAK;UAC3BA,6BAAgB;UAAAA,sBAAM;UAAAA,iBAAK;UAC3BA,6BAAgB;UAAAA,mCAAS;UAAAA,iBAAK;UAC9BA,8BAAgB;UAAAA,+BAAI;UAAAA,iBAAK;UAG7BA,8BAAO;UACLA,uEAYK;UACPA,iBAAQ;UAKZA,kCAA8F;UAC5FA,yBACF;UAAAA,iBAAS;UAGTA,+BAA6H;UAItEA,aAA2B;UAAAA,iBAAK;UAGjFA,gCAAwB;UACtBA,aACF;UAAAA,iBAAM;UACNA,gCAA0B;UAC6CA,sBAAK;UAAAA,iBAAS;UACnFA,mCAA8C;UAAAA,kCAAiB;UAAAA,iBAAS;;;UAnClDA,gBAAO;UAAPA,kCAAO;UA2BkBA,eAA2B;UAA3BA,0DAA2B;UAI1EA,eACF;UADEA,gDACF","names":["i0","VacancyTableComponent","constructor","vacanciesService","ngOnInit","isAdmin","localStorage","getItem","loadVacancies","getVacancies","subscribe","next","data","list","error","err","console","setModal","status","title","description","id","deleteVacancy","vacancyId","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\dev\\projetos\\angular\\auth-project\\src\\app\\vacancy-table\\vacancy-table.component.html","C:\\dev\\projetos\\angular\\auth-project\\src\\app\\vacancy-table\\vacancy-table.component.ts"],"sourcesContent":["<div class=\"card-body p-4 p-sm-5\">\n  <table class=\"table table-sm\">\n    <thead>\n      <tr>\n        <th scope=\"col\">Status</th>\n        <th scope=\"col\">Titulo</th>\n        <th scope=\"col\">Descrição</th>\n        <th scope=\"col\">Ação</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let vacancy of list\">\n        <td>{{ vacancy.status }}</td>\n        <td>{{ vacancy.title }}</td>\n        <td>{{ vacancy.description }}</td>\n        <td>\n          <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" (click)=\"setModal(vacancy.status,vacancy.title, vacancy.description,vacancy.id)\" data-target=\"#exampleModal\">\n            apply\n          </button>\n        <button type=\"button\" class=\"btn btn-primary\" style=\"background-color: red; border-color: red;margin-left: 5px;\" data-toggle=\"modal\" (click)=\"deleteVacancy(vacancy.id)\" data-target=\"#exampleModal\">\n            delete\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n<!-- Button trigger modal -->\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\">\n  apply\n</button>\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Aplicar para vaga {{title}}</h5>\n\n      </div>\n      <div class=\"modal-body\">\n        {{description}}\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Aplicar para vaga</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { VacanciesService } from '../service/vacancies/vacancies.service';\n\n@Component({\n  selector: 'app-vacancy-table',\n  templateUrl: './vacancy-table.component.html',\n  styleUrls: ['./vacancy-table.component.css']\n})\nexport class VacancyTableComponent {\n\n  list: any[] = [];\n  isAdmin:boolean = false;\n\n  status:string = '';\n  title:string = '';\n  description:string = '';\n  id:string = '';\n\n  constructor(private vacanciesService:VacanciesService){\n\n  }\n\n  ngOnInit() {\n    this.isAdmin = 'admin' == localStorage.getItem('role')\n    this.loadVacancies();\n  }\n\n  loadVacancies() {\n    this.vacanciesService.getVacancies().subscribe({\n      next: (data) => {\n        this.list = data;\n      },\n      error: (err) => {\n        console.error('Erro ao carregar vagas:', err);\n      }\n    });\n  }\n\n  setModal(status:any, title:any, description:any, id:any){\n    this.status = status;\n    this.title = title;\n    this.description = description;\n  }\n\n  deleteVacancy(vacancyId: number) {\n    this.vacanciesService.deleteVacancy(vacancyId).subscribe({\n      next: (data) => {\n        console.log('Vaga deletada com sucesso');\n        this.loadVacancies();  // Atualiza a lista após a exclusão\n      },\n      error: (error) => {\n        console.error('Erro ao deletar vaga:', error);\n      }\n    });\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}