{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { API_PATH } from 'src/enviroments/environment.prod';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class VacanciesService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.baseUrl = API_PATH;\n  }\n  getVacancies() {\n    const token = localStorage.getItem('token');\n    const loginUrl = `${this.baseUrl}/jobs`;\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}` // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.get(loginUrl, {\n      headers\n    }); // Passando um objeto vazio como corpo da requisição\n  }\n\n  deleteVacancy(vacancyId) {\n    const token = localStorage.getItem('token');\n    const deleteUrl = `${this.baseUrl}/jobs/${vacancyId}`;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}` // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.delete(deleteUrl, {\n      headers\n    });\n  }\n  updateOrCreate(id, title, description, requirements) {\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    });\n    const createdBy = localStorage.getItem(\"id\");\n    const vacancy = {\n      title,\n      description,\n      requirements\n    };\n    if (id) {\n      // Atualiza vaga existente\n      const updateUrl = `${this.baseUrl}/jobs/${id}`;\n      return this.httpClient.put(updateUrl, vacancy, {\n        headers\n      });\n    } else {\n      const vacancy = {\n        title,\n        description,\n        requirements,\n        createdBy,\n        'isActive': true\n      };\n      // Cria nova vaga\n      const createUrl = `${this.baseUrl}/jobs`;\n      return this.httpClient.post(createUrl, vacancy, {\n        headers\n      });\n    }\n  }\n  static {\n    this.ɵfac = function VacanciesService_Factory(t) {\n      return new (t || VacanciesService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: VacanciesService,\n      factory: VacanciesService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"mappings":"AAAA,SAAqBA,WAAW,QAAQ,sBAAsB;AAG9D,SAASC,QAAQ,QAAQ,kCAAkC;;;AAK3D,OAAM,MAAOC,gBAAgB;EAE3BC,YAAoBC,UAAqB;IAArB,eAAU,GAAVA,UAAU;IAD9B,YAAO,GAAEH,QAAQ;EAC4B;EAE7CI,YAAY;IACV,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,QAAQ,GAAG,GAAG,IAAI,CAACC,OAAO,OAAO;IACvC,MAAMC,OAAO,GAAG,IAAIX,WAAW,CAAC;MAC9B,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUM,KAAK,EAAE,CAAE;KACrC,CAAC;;IAEF,OAAO,IAAI,CAACF,UAAU,CAACQ,GAAG,CAAMH,QAAQ,EAAC;MAAEE;IAAO,CAAE,CAAC,CAAC,CAAE;EAC1D;;EAIAE,aAAa,CAACC,SAAiB;IAC7B,MAAMR,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMO,SAAS,GAAG,GAAG,IAAI,CAACL,OAAO,SAASI,SAAS,EAAE;IACrD,MAAMH,OAAO,GAAG,IAAIX,WAAW,CAAC;MAC9B,eAAe,EAAE,UAAUM,KAAK,EAAE,CAAE;KACrC,CAAC;;IAEF,OAAO,IAAI,CAACF,UAAU,CAACY,MAAM,CAAMD,SAAS,EAAE;MAAEJ;IAAO,CAAE,CAAC;EAC5D;EAGAM,cAAc,CAACC,EAAsB,EAAEC,KAAa,EAAEC,WAAmB,EAAEC,YAAoB;IAC7F,MAAMf,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMG,OAAO,GAAG,IAAIX,WAAW,CAAC;MAC5B,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUM,KAAK;KACnC,CAAC;IACF,MAAMgB,SAAS,GAAGf,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IAC5C,MAAMe,OAAO,GAAG;MAAEJ,KAAK;MAAEC,WAAW;MAAEC;IAAY,CAAE;IAEpD,IAAIH,EAAE,EAAE;MACJ;MACA,MAAMM,SAAS,GAAG,GAAG,IAAI,CAACd,OAAO,SAASQ,EAAE,EAAE;MAC9C,OAAO,IAAI,CAACd,UAAU,CAACqB,GAAG,CAAMD,SAAS,EAAED,OAAO,EAAE;QAAEZ;MAAO,CAAE,CAAC;KACnE,MAAM;MACD,MAAMY,OAAO,GAAG;QAAEJ,KAAK;QAAEC,WAAW;QAAEC,YAAY;QAAEC,SAAS;QAAE,UAAU,EAAE;MAAI,CAAC;MAClF;MACA,MAAMI,SAAS,GAAG,GAAG,IAAI,CAAChB,OAAO,OAAO;MACxC,OAAO,IAAI,CAACN,UAAU,CAACuB,IAAI,CAAMD,SAAS,EAAEH,OAAO,EAAE;QAAEZ;MAAO,CAAE,CAAC;;EAEzE;;;uBA/CaT,gBAAgB;IAAA;EAAA;;;aAAhBA,gBAAgB;MAAA0B,SAAhB1B,gBAAgB;MAAA2B,YAFf;IAAM;EAAA","names":["HttpHeaders","API_PATH","VacanciesService","constructor","httpClient","getVacancies","token","localStorage","getItem","loginUrl","baseUrl","headers","get","deleteVacancy","vacancyId","deleteUrl","delete","updateOrCreate","id","title","description","requirements","createdBy","vacancy","updateUrl","put","createUrl","post","factory","providedIn"],"sourceRoot":"","sources":["C:\\dev\\projetos\\angular\\auth-project\\src\\app\\service\\vacancies\\vacancies.service.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { API_PATH } from 'src/enviroments/environment.prod';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VacanciesService {\n  baseUrl= API_PATH;\n  constructor(private httpClient:HttpClient) { }\n\n  getVacancies(): Observable<any> {\n    const token = localStorage.getItem('token');\n    const loginUrl = `${this.baseUrl}/jobs`;\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`  // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.get<any>(loginUrl,{ headers });  // Passando um objeto vazio como corpo da requisição\n  }\n\n\n\n  deleteVacancy(vacancyId: number): Observable<any> {\n    const token = localStorage.getItem('token');\n    const deleteUrl = `${this.baseUrl}/jobs/${vacancyId}`;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`  // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.delete<any>(deleteUrl, { headers });\n  }\n\n\n  updateOrCreate(id: number | undefined, title: string, description: string, requirements: string): Observable<any> {\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n    });\n    const createdBy = localStorage.getItem(\"id\");\n    const vacancy = { title, description, requirements };\n\n    if (id) {\n        // Atualiza vaga existente\n        const updateUrl = `${this.baseUrl}/jobs/${id}`;\n        return this.httpClient.put<any>(updateUrl, vacancy, { headers });\n    } else {\n          const vacancy = { title, description, requirements, createdBy, 'isActive' :true};\n        // Cria nova vaga\n        const createUrl = `${this.baseUrl}/jobs`;\n        return this.httpClient.post<any>(createUrl, vacancy, { headers });\n    }\n}\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}