{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { API_PATH } from 'src/enviroments/environment.prod';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class VacanciesService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.baseUrl = API_PATH;\n  }\n  getVacancies() {\n    const token = localStorage.getItem('token');\n    const loginUrl = `${this.baseUrl}/jobs`;\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}` // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.get(loginUrl, {\n      headers\n    }); // Passando um objeto vazio como corpo da requisição\n  }\n\n  deleteVacancy(vacancyId) {\n    const token = localStorage.getItem('token');\n    const deleteUrl = `${this.baseUrl}/jobs/${vacancyId}`;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}` // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.delete(deleteUrl, {\n      headers\n    });\n  }\n  updateOrCreate(vacancy) {\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    });\n    if (vacancy.id) {\n      // Atualiza vaga existente\n      const updateUrl = `${this.baseUrl}/jobs/${vacancy.id}`;\n      return this.httpClient.put(updateUrl, vacancy, {\n        headers\n      });\n    } else {\n      // Cria nova vaga\n      const createUrl = `${this.baseUrl}/jobs`;\n      return this.httpClient.post(createUrl, vacancy, {\n        headers\n      });\n    }\n  }\n  static {\n    this.ɵfac = function VacanciesService_Factory(t) {\n      return new (t || VacanciesService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: VacanciesService,\n      factory: VacanciesService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"mappings":"AAAA,SAAqBA,WAAW,QAAQ,sBAAsB;AAG9D,SAASC,QAAQ,QAAQ,kCAAkC;;;AAK3D,OAAM,MAAOC,gBAAgB;EAE3BC,YAAoBC,UAAqB;IAArB,eAAU,GAAVA,UAAU;IAD9B,YAAO,GAAEH,QAAQ;EAC4B;EAE7CI,YAAY;IACV,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,QAAQ,GAAG,GAAG,IAAI,CAACC,OAAO,OAAO;IACvC,MAAMC,OAAO,GAAG,IAAIX,WAAW,CAAC;MAC9B,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUM,KAAK,EAAE,CAAE;KACrC,CAAC;;IAEF,OAAO,IAAI,CAACF,UAAU,CAACQ,GAAG,CAAMH,QAAQ,EAAC;MAAEE;IAAO,CAAE,CAAC,CAAC,CAAE;EAC1D;;EAIAE,aAAa,CAACC,SAAiB;IAC7B,MAAMR,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMO,SAAS,GAAG,GAAG,IAAI,CAACL,OAAO,SAASI,SAAS,EAAE;IACrD,MAAMH,OAAO,GAAG,IAAIX,WAAW,CAAC;MAC9B,eAAe,EAAE,UAAUM,KAAK,EAAE,CAAE;KACrC,CAAC;;IAEF,OAAO,IAAI,CAACF,UAAU,CAACY,MAAM,CAAMD,SAAS,EAAE;MAAEJ;IAAO,CAAE,CAAC;EAC5D;EAGAM,cAAc,CAACC,OAAkF;IAC/F,MAAMZ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMG,OAAO,GAAG,IAAIX,WAAW,CAAC;MAC5B,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUM,KAAK;KACnC,CAAC;IAEF,IAAIY,OAAO,CAACC,EAAE,EAAE;MACZ;MACA,MAAMC,SAAS,GAAG,GAAG,IAAI,CAACV,OAAO,SAASQ,OAAO,CAACC,EAAE,EAAE;MACtD,OAAO,IAAI,CAACf,UAAU,CAACiB,GAAG,CAAMD,SAAS,EAAEF,OAAO,EAAE;QAAEP;MAAO,CAAE,CAAC;KACnE,MAAM;MACH;MACA,MAAMW,SAAS,GAAG,GAAG,IAAI,CAACZ,OAAO,OAAO;MACxC,OAAO,IAAI,CAACN,UAAU,CAACmB,IAAI,CAAMD,SAAS,EAAEJ,OAAO,EAAE;QAAEP;MAAO,CAAE,CAAC;;EAEzE;;;uBA5CaT,gBAAgB;IAAA;EAAA;;;aAAhBA,gBAAgB;MAAAsB,SAAhBtB,gBAAgB;MAAAuB,YAFf;IAAM;EAAA","names":["HttpHeaders","API_PATH","VacanciesService","constructor","httpClient","getVacancies","token","localStorage","getItem","loginUrl","baseUrl","headers","get","deleteVacancy","vacancyId","deleteUrl","delete","updateOrCreate","vacancy","id","updateUrl","put","createUrl","post","factory","providedIn"],"sourceRoot":"","sources":["C:\\dev\\projetos\\angular\\auth-project\\src\\app\\service\\vacancies\\vacancies.service.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { API_PATH } from 'src/enviroments/environment.prod';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VacanciesService {\n  baseUrl= API_PATH;\n  constructor(private httpClient:HttpClient) { }\n\n  getVacancies(): Observable<any> {\n    const token = localStorage.getItem('token');\n    const loginUrl = `${this.baseUrl}/jobs`;\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`  // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.get<any>(loginUrl,{ headers });  // Passando um objeto vazio como corpo da requisição\n  }\n\n\n\n  deleteVacancy(vacancyId: number): Observable<any> {\n    const token = localStorage.getItem('token');\n    const deleteUrl = `${this.baseUrl}/jobs/${vacancyId}`;\n    const headers = new HttpHeaders({\n      'Authorization': `Bearer ${token}`  // Adicionando o token no cabeçalho\n    });\n\n    return this.httpClient.delete<any>(deleteUrl, { headers });\n  }\n\n\n  updateOrCreate(vacancy: { id?: number; title: string; description: string; requirements: string }): Observable<any> {\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n    });\n\n    if (vacancy.id) {\n        // Atualiza vaga existente\n        const updateUrl = `${this.baseUrl}/jobs/${vacancy.id}`;\n        return this.httpClient.put<any>(updateUrl, vacancy, { headers });\n    } else {\n        // Cria nova vaga\n        const createUrl = `${this.baseUrl}/jobs`;\n        return this.httpClient.post<any>(createUrl, vacancy, { headers });\n    }\n}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}