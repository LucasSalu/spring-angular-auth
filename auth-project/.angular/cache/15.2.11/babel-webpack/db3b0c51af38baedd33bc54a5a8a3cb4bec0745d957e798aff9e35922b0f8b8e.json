{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/vacancies/vacancies.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction MyVacanciesComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵtext(1, \" create \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyVacanciesComponent_tr_12_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function MyVacanciesComponent_tr_12_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const vacancy_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteVacancy(vacancy_r2.id));\n    });\n    i0.ɵɵtext(1, \" delete \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyVacanciesComponent_tr_12_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function MyVacanciesComponent_tr_12_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const vacancy_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.setModal(vacancy_r2.status, vacancy_r2.title, vacancy_r2.description, vacancy_r2.requirements, vacancy_r2.id));\n    });\n    i0.ɵɵtext(1, \" edit \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyVacanciesComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, MyVacanciesComponent_tr_12_button_8_Template, 2, 0, \"button\", 21);\n    i0.ɵɵtemplate(9, MyVacanciesComponent_tr_12_button_9_Template, 2, 0, \"button\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const vacancy_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vacancy_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vacancy_r2.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vacancy_r2.requirements);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin);\n  }\n}\nexport class MyVacanciesComponent {\n  constructor(vacanciesService) {\n    this.vacanciesService = vacanciesService;\n    this.list = [];\n    this.isAdmin = false;\n    this.status = '';\n    this.title = '';\n    this.description = '';\n    this.requirements = '';\n    this.id = '';\n  }\n  ngOnInit() {\n    this.isAdmin = 'admin' == localStorage.getItem('role');\n    this.loadVacancies();\n  }\n  loadVacancies() {\n    this.vacanciesService.getVacancies().subscribe({\n      next: data => {\n        this.list = data;\n      },\n      error: err => {\n        console.error('Erro ao carregar vagas:', err);\n      }\n    });\n  }\n  setModal(status, title, description, requirements, id) {\n    this.status = status;\n    this.title = title;\n    this.requirements = requirements;\n    this.description = description;\n    this.id = id;\n  }\n  deleteVacancy(vacancyId) {\n    this.vacanciesService.deleteVacancy(vacancyId).subscribe({\n      next: data => {\n        console.log('Vaga deletada com sucesso');\n        this.loadVacancies(); // Atualiza a lista após a exclusão\n      },\n\n      error: error => {\n        console.error('Erro ao deletar vaga:', error);\n      }\n    });\n  }\n  updateOrCreate() {\n    this.vacanciesService.updateOrCreate(this.id, this.title, this.description, this.requirements).subscribe({\n      next: () => {\n        console.log('Operação realizada com sucesso');\n        this.loadVacancies(); // Atualiza a lista após a criação/edição\n        this.resetForm(); // Reseta o formulário após salvar\n      },\n\n      error: error => {\n        console.error('Erro ao criar/editar vaga:', error);\n      }\n    });\n  }\n  resetForm() {\n    this.id = undefined;\n    this.title = '';\n    this.description = '';\n    this.requirements = '';\n  }\n  static {\n    this.ɵfac = function MyVacanciesComponent_Factory(t) {\n      return new (t || MyVacanciesComponent)(i0.ɵɵdirectiveInject(i1.VacanciesService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MyVacanciesComponent,\n      selectors: [[\"app-my-vacancies\"]],\n      decls: 44,\n      vars: 8,\n      consts: [[1, \"card-body\", \"p-4\", \"p-sm-5\"], [\"type\", \"button\", \"class\", \"btn btn-primary\", \"data-toggle\", \"modal\", \"data-target\", \"#modal-create\", 4, \"ngIf\"], [1, \"table\", \"table-sm\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"modal-apply\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"modal-applyLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"modal-applyLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"], [\"id\", \"modal-create\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"modal-applyLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"mb-3\"], [\"type\", \"text\", \"id\", \"title\", \"placeholder\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"description\", \"placeholder\", \"description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"requirements\", \"placeholder\", \"requirements\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#modal-create\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", \"class\", \"btn btn-primary\", \"style\", \"background-color: red; border-color: red;margin-left: 5px;\", \"data-target\", \"#exampleModal\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary\", \"style\", \"background-color: greenyellow; border-color: greenyellow;margin-left: 5px;\", \"data-toggle\", \"modal\", \"data-target\", \"#modal-create\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"data-target\", \"#exampleModal\", 1, \"btn\", \"btn-primary\", 2, \"background-color\", \"red\", \"border-color\", \"red\", \"margin-left\", \"5px\", 3, \"click\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#modal-create\", 1, \"btn\", \"btn-primary\", 2, \"background-color\", \"greenyellow\", \"border-color\", \"greenyellow\", \"margin-left\", \"5px\", 3, \"click\"]],\n      template: function MyVacanciesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, MyVacanciesComponent_button_1_Template, 2, 0, \"button\", 1);\n          i0.ɵɵelementStart(2, \"table\", 2)(3, \"thead\")(4, \"tr\")(5, \"th\", 3);\n          i0.ɵɵtext(6, \"Titulo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"th\", 3);\n          i0.ɵɵtext(8, \"Descri\\u00E7\\u00E3o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\", 3);\n          i0.ɵɵtext(10, \"Requisitos\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"tbody\");\n          i0.ɵɵtemplate(12, MyVacanciesComponent_tr_12_Template, 10, 5, \"tr\", 4);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"div\", 5)(14, \"div\", 6)(15, \"div\", 7)(16, \"div\", 8)(17, \"h5\", 9);\n          i0.ɵɵtext(18);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\", 10);\n          i0.ɵɵtext(20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 11)(22, \"button\", 12);\n          i0.ɵɵtext(23, \"Close\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 13);\n          i0.ɵɵtext(25, \"Aplicar para vaga\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(26, \"div\", 14)(27, \"div\", 6)(28, \"div\", 7)(29, \"div\", 8)(30, \"h5\", 9);\n          i0.ɵɵtext(31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(32, \"div\", 10)(33, \"div\", 15)(34, \"input\", 16);\n          i0.ɵɵlistener(\"ngModelChange\", function MyVacanciesComponent_Template_input_ngModelChange_34_listener($event) {\n            return ctx.title = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 15)(36, \"input\", 17);\n          i0.ɵɵlistener(\"ngModelChange\", function MyVacanciesComponent_Template_input_ngModelChange_36_listener($event) {\n            return ctx.description = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"div\", 15)(38, \"input\", 18);\n          i0.ɵɵlistener(\"ngModelChange\", function MyVacanciesComponent_Template_input_ngModelChange_38_listener($event) {\n            return ctx.requirements = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(39, \"div\", 11)(40, \"button\", 12);\n          i0.ɵɵtext(41, \"Cancel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"button\", 19);\n          i0.ɵɵlistener(\"click\", function MyVacanciesComponent_Template_button_click_42_listener() {\n            return ctx.updateOrCreate();\n          });\n          i0.ɵɵtext(43, \"Complete\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngForOf\", ctx.list);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"Aplicar para vaga \", ctx.title, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.description, \" \");\n          i0.ɵɵadvance(11);\n          i0.ɵɵtextInterpolate1(\"Aplicar para vaga \", ctx.title, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.title);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngModel\", ctx.description);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngModel\", ctx.requirements);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","MyVacanciesComponent","constructor","vacanciesService","ngOnInit","isAdmin","localStorage","getItem","loadVacancies","getVacancies","subscribe","next","data","list","error","err","console","setModal","status","title","description","requirements","id","deleteVacancy","vacancyId","log","updateOrCreate","resetForm","undefined","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\dev\\projetos\\angular\\auth-project\\src\\app\\my-vacancies\\my-vacancies.component.html","C:\\dev\\projetos\\angular\\auth-project\\src\\app\\my-vacancies\\my-vacancies.component.ts"],"sourcesContent":["<div class=\"card-body p-4 p-sm-5\">\n  <button *ngIf=\"isAdmin\" type=\"button\" class=\"btn btn-primary\"  data-toggle=\"modal\" data-target=\"#modal-create\">\n    create\n  </button>\n  <table class=\"table table-sm\">\n    <thead>\n      <tr>\n        <th scope=\"col\">Titulo</th>\n        <th scope=\"col\">Descrição</th>\n        <th scope=\"col\">Requisitos</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let vacancy of list\">\n        <td>{{ vacancy.title }}</td>\n        <td>{{ vacancy.description }}</td>\n        <td>{{ vacancy.requirements }}</td>\n        <td>\n\n        <button *ngIf=\"isAdmin\" type=\"button\" class=\"btn btn-primary\" style=\"background-color: red; border-color: red;margin-left: 5px;\"  (click)=\"deleteVacancy(vacancy.id)\" data-target=\"#exampleModal\">\n            delete\n        </button>\n        <button *ngIf=\"isAdmin\" type=\"button\" class=\"btn btn-primary\" style=\"background-color: greenyellow; border-color: greenyellow;margin-left: 5px;\" data-toggle=\"modal\" (click)=\"setModal(vacancy.status,vacancy.title, vacancy.description, vacancy.requirements,vacancy.id)\" data-target=\"#modal-create\">\n          edit\n        </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"modal-apply\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-applyLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"modal-applyLabel\">Aplicar para vaga {{title}}</h5>\n\n      </div>\n      <div class=\"modal-body\">\n        {{description}}\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Aplicar para vaga</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"modal-create\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-applyLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"modal-applyLabel\">Aplicar para vaga {{title}}</h5>\n\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"mb-3\">\n          <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"title\"  [(ngModel)]=\"title\">\n        </div>\n\n        <div class=\"mb-3\">\n          <input type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"description\"  [(ngModel)]=\"description\" >\n        </div>\n\n        <div class=\"mb-3\">\n          <input type=\"text\" class=\"form-control\" id=\"requirements\" placeholder=\"requirements\"  [(ngModel)]=\"requirements\" >\n        </div>\n\n\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"updateOrCreate()\">Complete</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n","import { Component } from '@angular/core';\nimport { VacanciesService } from '../service/vacancies/vacancies.service';\n\n@Component({\n  selector: 'app-my-vacancies',\n  templateUrl: './my-vacancies.component.html',\n  styleUrls: ['./my-vacancies.component.css']\n})\nexport class MyVacanciesComponent {\n\n\n    list: any[] = [];\n    isAdmin:boolean = false;\n\n    status:string = '';\n    title:string = '';\n    description:string = '';\n    requirements:string = '';\n    id:any = '';\n\n    constructor(private vacanciesService:VacanciesService){\n\n    }\n\n    ngOnInit() {\n      this.isAdmin = 'admin' == localStorage.getItem('role')\n      this.loadVacancies();\n    }\n\n    loadVacancies() {\n      this.vacanciesService.getVacancies().subscribe({\n        next: (data) => {\n          this.list = data;\n        },\n        error: (err) => {\n          console.error('Erro ao carregar vagas:', err);\n        }\n      });\n    }\n\n    setModal(status:any, title:any, description:any,requirements:any,  id:any){\n      this.status = status;\n      this.title = title;\n      this.requirements = requirements;\n      this.description = description;\n      this.id = id;\n    }\n\n    deleteVacancy(vacancyId: number) {\n      this.vacanciesService.deleteVacancy(vacancyId).subscribe({\n        next: (data) => {\n          console.log('Vaga deletada com sucesso');\n          this.loadVacancies();  // Atualiza a lista após a exclusão\n        },\n        error: (error) => {\n          console.error('Erro ao deletar vaga:', error);\n        }\n      });\n    }\n\n    updateOrCreate() {\n      this.vacanciesService.updateOrCreate(this.id, this.title, this.description, this.requirements).subscribe({\n        next: () => {\n          console.log('Operação realizada com sucesso');\n          this.loadVacancies(); // Atualiza a lista após a criação/edição\n          this.resetForm(); // Reseta o formulário após salvar\n        },\n        error: (error) => {\n          console.error('Erro ao criar/editar vaga:', error);\n        }\n      });\n    }\n\n    resetForm() {\n      this.id = undefined;\n      this.title = '';\n      this.description = '';\n      this.requirements = '';\n    }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}